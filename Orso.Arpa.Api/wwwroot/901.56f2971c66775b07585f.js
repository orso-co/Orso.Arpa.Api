(self.webpackChunkorso_arpa_web=self.webpackChunkorso_arpa_web||[]).push([[901],{6901:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DashboardsModule:()=>ae});var s=r(1116),n=r(2155),o=r(649),i=r(1041),a=r(3464),l=r(9996),c=r(8619);const p=["*"];let u=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["arpa-dummy"]],inputs:{icon:"icon"},ngContentSelectors:p,decls:1,vars:0,template:function(e,t){1&e&&(c.F$t(),c.Hsn(0))},styles:["arpa-dummy[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.1}"]}),e})();var d=r(1889),h=r(7285),g=r(4451);let Z=(()=>{class e{constructor(){this.data={labels:["Crossover","Classical","Film","Other"],datasets:[{data:[7,6,2,5],backgroundColor:["#F4D03F","#C0392B","#36A2EB","#8E44AD"],hoverBackgroundColor:["#F9E79F","#CD6155","#36A2E0","#BB8FCE"]}]},this.options={title:{display:!0,text:"This is only fake data for demo",fontSize:14},legend:{position:"bottom"}}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["arpa-projectgenrechart"]],decls:1,vars:2,consts:[["type","doughnut","width","30vw","height","30vh",3,"data","options"]],template:function(e,t){1&e&&c._UZ(0,"p-chart",0),2&e&&c.Q6J("data",t.data)("options",t.options)},directives:[g.C],styles:[""]}),e})(),m=(()=>{class e{constructor(e){this.projects=[],e.data.pipe((0,l.U)(e=>e.projects)).subscribe(e=>this.projects=e)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(a.gz))},e.\u0275cmp=c.Xpm({type:e,selectors:[["arpa-performer"]],decls:103,vars:15,consts:[[1,"p-grid"],[1,"p-col-12","p-md-6","p-lg-4"],[1,"arpa-dummy",3,"icon"],["header","Heutige Probe f\xfcr Chor fr\xfcher!"],["styleClass","rectangle","width","50%","heigt","1rem"],["styleClass","rectangle","width","80%","heigt","1rem"],["header","Programm\xe4nderung kommendes Konzert"],["styleClass","rectangle","width","20%","heigt","1rem"],["header","Neue Probentermine verf\xfcgbar"],["styleClass","rectangle","width","50%","height","1rem"],["styleClass","rectangle","width","80%","height","1rem"],["styleClass","rectangle","width","20%","height","1rem"],["header","F\xfcr RoSy @Bphil nur noch Kat. 5 verf\xfcgbar"],["styleClass","rectangle","width","70%","height","1rem"],["styleClass","rectangle","width","40%","height","1rem"],["styleClass","rectangle","width","60%","height","1rem"],[3,"icon"],["routerLink","/arpa/appointments"],["styleClass","square","width","33%","height","6rem"],["routerLink","/arpa/projects"],["shape","square","styleClass","p-mr-2","width","25%","height","5rem"],[1,"p-field","p-col-12","p-md-6"],[1,"p-d-flex","p-ai-end"],["shape","circle","size","4rem","styleClass","p-mr-2"],["shape","circle","size","4rem"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"arpa-dummy",2),c.TgZ(3,"h2"),c._uU(4),c.ALo(5,"translate"),c.qZA(),c.TgZ(6,"p-accordion"),c.TgZ(7,"p-accordionTab",3),c.TgZ(8,"p"),c._uU(9,"Um eine Kollision mit Orchesteraufbau zu vermeiden, startet das Einsingen bereits um 18:30 "),c.qZA(),c._UZ(10,"p-skeleton",4),c._UZ(11,"br"),c._UZ(12,"p-skeleton",5),c.qZA(),c.TgZ(13,"p-accordionTab",6),c._uU(14," Erste Zugabe wird ausgetauscht, siehe neues Material in Bibliothek."),c._UZ(15,"br"),c._uU(16,"Wolfgang arbeitet derzeit noch Korrekturen in Schneek\xf6niginpartitur ein. Stay tuned! "),c._UZ(17,"p-skeleton",4),c._UZ(18,"br"),c._UZ(19,"p-skeleton",5),c._UZ(20,"br"),c._UZ(21,"p-skeleton",7),c.qZA(),c.TgZ(22,"p-accordionTab",8),c._uU(23," Schaut mal rein und gebt uns R\xfcckmeldung, wie's mit eurer Teilnahme ausschaut. Danke! :-) "),c._UZ(24,"p-skeleton",9),c._UZ(25,"br"),c._UZ(26,"p-skeleton",10),c._UZ(27,"br"),c._UZ(28,"p-skeleton",11),c.qZA(),c.TgZ(29,"p-accordionTab",12),c._uU(30," Evtl. bekommen wir noch von Eventim Karten zur\xfcck f\xfcr die h\xf6heren Kategorien. "),c._UZ(31,"br"),c._UZ(32,"p-skeleton",11),c.qZA(),c.qZA(),c._UZ(33,"br"),c._UZ(34,"p-skeleton",13),c._UZ(35,"br"),c._UZ(36,"p-skeleton",14),c._UZ(37,"br"),c._UZ(38,"p-skeleton",15),c.qZA(),c.qZA(),c.TgZ(39,"div",1),c.TgZ(40,"arpa-dummy",16),c.TgZ(41,"a",17),c.TgZ(42,"h2"),c._uU(43),c.ALo(44,"translate"),c.qZA(),c.qZA(),c.TgZ(45,"p"),c._uU(46,"3. Juni 2021 20-22 Uhr - RoSy-Chorprobe"),c.qZA(),c.TgZ(47,"p"),c._uU(48,'22. Juni 2021 Anmeldeschluss "Festival em Trancoso" (Brasilien-Tour)'),c.qZA(),c.TgZ(49,"p"),c._uU(50,"22. Dezember 2021 - Konzerttag @Bphil |\xa0Die Schneek\xf6nigin"),c.qZA(),c._UZ(51,"p-skeleton",9),c._UZ(52,"br"),c._UZ(53,"p-skeleton",10),c._UZ(54,"br"),c._UZ(55,"p-skeleton",11),c._UZ(56,"br"),c.TgZ(57,"p-skeleton",18),c._uU(58,"Termin"),c.qZA(),c.qZA(),c._UZ(59,"br"),c.TgZ(60,"a",19),c.TgZ(61,"h2"),c._uU(62),c.ALo(63,"translate"),c.qZA(),c.qZA(),c._UZ(64,"arpa-projectgenrechart"),c._UZ(65,"p-skeleton",9),c._UZ(66,"br"),c._UZ(67,"p-skeleton",10),c._UZ(68,"br"),c._UZ(69,"p-skeleton",11),c._UZ(70,"br"),c._UZ(71,"p-skeleton",20),c.qZA(),c.TgZ(72,"div",1),c.TgZ(73,"arpa-dummy",16),c.TgZ(74,"h2"),c._uU(75),c.ALo(76,"translate"),c.qZA(),c.TgZ(77,"p"),c._uU(78,'Bitte R\xfcckmeldung zu Projekt "Schneek\xf6ngin" geben'),c.qZA(),c.TgZ(79,"p"),c._uU(80,"Zylinder & Schal abgeben bis 31.12.2021"),c.qZA(),c.TgZ(81,"p"),c._uU(82,"Bitte IBAN f\xfcr Reisekosten \xfcbermitteln"),c.qZA(),c.TgZ(83,"p"),c._uU(84,"F\xfcr externes PWE Bettenbelegung checken"),c.qZA(),c.TgZ(85,"p"),c._uU(86,"Wir brauchen deinen Reisepass f\xfcr Flugbuchung"),c.qZA(),c._UZ(87,"p-skeleton",9),c._UZ(88,"br"),c._UZ(89,"p-skeleton",10),c._UZ(90,"br"),c._UZ(91,"p-skeleton",11),c._UZ(92,"br"),c.TgZ(93,"div",21),c.TgZ(94,"h3"),c._uU(95,"Crowdwork-Pipeline"),c.qZA(),c.TgZ(96,"h4"),c._uU(97,"Wer hat gerade Zeit und kann was \xfcbernehmen?"),c.qZA(),c.TgZ(98,"div",22),c._UZ(99,"p-skeleton",23),c._UZ(100,"p-skeleton",23),c._UZ(101,"p-skeleton",23),c._UZ(102,"p-skeleton",24),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.Q6J("icon","messages"),c.xp6(2),c.Oqu(c.lcZ(5,7,"MESSAGES")),c.xp6(36),c.Q6J("icon","appointments"),c.xp6(3),c.Oqu(c.lcZ(44,9,"APPOINTMENTS")),c.xp6(19),c.Oqu(c.lcZ(63,11,"PROJECTS")),c.xp6(11),c.Q6J("icon","tasks"),c.xp6(2),c.Oqu(c.lcZ(76,13,"TASKS")))},directives:[u,d.UQ,d.US,h.O,a.yS,Z],pipes:[o.X$],styles:[""]}),e})();var U=r(7534),_=r(2893),f=r(885),v=r(538),b=r(5903),A=r(8451),T=r(8611);let q=(()=>{class e{constructor(e){this.apiService=e,this.baseUrl="/users"}getUsers(){return this.apiService.get(this.baseUrl)}getUser(e){return this.apiService.get(`${this.baseUrl}/${e}`)}deleteUser(e){return this.apiService.delete(`${this.baseUrl}/${e}`)}resolve(e,t){const{id:r}=e.data;return r?this.getUser(r):this.getUsers()}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(T.s))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var C=r(7807),S=r(3796),y=r(9832),k=r(7033),x=r(6114),w=r(7964),O=r(7968),E=r(4217),M=r(4577),R=r(9127),L=r(5212);function N(e,t){}function P(e,t){1&e&&c._UZ(0,"i",11)}function J(e,t){if(1&e&&(c.TgZ(0,"div",6),c._UZ(1,"p-avatar",7),c.TgZ(2,"div",8),c.TgZ(3,"span",9),c.TgZ(4,"b"),c._uU(5),c.qZA(),c.qZA(),c.TgZ(6,"span"),c._uU(7),c.YNc(8,P,1,0,"i",10),c.qZA(),c.TgZ(9,"span"),c._uU(10),c.ALo(11,"date"),c.qZA(),c.qZA(),c.qZA()),2&e){const e=t.$implicit,r=c.oxw();c.xp6(1),c.Q6J("label",r.getInitials(e)),c.xp6(4),c.Oqu(e.displayName),c.xp6(2),c.Oqu(e.email),c.xp6(1),c.Q6J("ngIf",e.emailConfirmed),c.xp6(2),c.Oqu(c.xi3(11,5,e.createdAt,"short"))}}function I(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",20),c._UZ(1,"p-avatar",21),c.TgZ(2,"h3"),c._uU(3),c.qZA(),c.TgZ(4,"button",22),c.NdJ("click",function(t){return c.CHM(e),c.oxw(2).showDeleteConfirmation(t)}),c.ALo(5,"translate"),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(1),c.Q6J("label",e.getInitials(e.selectedUser)),c.xp6(2),c.Oqu(e.selectedUser.displayName),c.xp6(1),c.Q6J("pTooltip",c.lcZ(5,3,"userlist.DELETE_USER"))}}function D(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",23),c.TgZ(1,"p-checkbox",24),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw(2).selectedRoles=t}),c.ALo(2,"async"),c.qZA(),c.TgZ(3,"label",25),c._uU(4),c.qZA(),c.qZA()}if(2&e){const e=t.$implicit,r=c.oxw(2);c.xp6(1),c.Q6J("value",e.roleName)("ngModel",r.selectedRoles)("inputId",e.roleName)("disabled",r.hasUserRight(e.roleLevel,c.lcZ(2,6,r.maxRoleLevel$))),c.xp6(2),c.Q6J("for",e.roleName),c.xp6(1),c.Oqu(e.roleName)}}const Q=function(){return{"box-shadow":"none"}};function z(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"p-card",12),c.YNc(1,I,6,5,"ng-template",1),c.TgZ(2,"div",13),c.TgZ(3,"div",14),c.TgZ(4,"p"),c.TgZ(5,"a",15),c._UZ(6,"i",16),c._uU(7),c.qZA(),c.qZA(),c.TgZ(8,"p"),c.TgZ(9,"span"),c._uU(10),c.ALo(11,"translate"),c.qZA(),c._uU(12),c.ALo(13,"date"),c.qZA(),c.TgZ(14,"fieldset"),c.TgZ(15,"legend"),c._uU(16),c.ALo(17,"translate"),c.qZA(),c.YNc(18,D,5,8,"div",17),c.TgZ(19,"button",18),c.NdJ("click",function(){c.CHM(e);const t=c.oxw(),r=c.MAs(4);return t.saveRoles(r)}),c.ALo(20,"translate"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"div",14),c._UZ(22,"p-tree",19),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.Akn(c.DdM(20,Q)),c.xp6(5),c.Q6J("href","mailto:"+e.selectedUser.email,c.LSH),c.xp6(2),c.Oqu(e.selectedUser.email),c.xp6(3),c.Oqu(c.lcZ(11,11,"userlist.REGISTERED_SINCE")),c.xp6(2),c.hij(" ",c.xi3(13,13,e.selectedUser.createdAt,"short")," "),c.xp6(4),c.Oqu(c.lcZ(17,16,"userlist.ASSIGN_ROLES")),c.xp6(2),c.Q6J("ngForOf",e.roles),c.xp6(1),c.Q6J("label",c.lcZ(20,18,"SAVE")),c.xp6(3),c.Q6J("virtualScroll",!1)("value",e.selectedUserSections)}}let B=(()=>{class e{constructor(e,t,r,s,n){this.confirmationService=e,this.translateService=t,this.userService=r,this.notificationsService=s,this.authService=n,this.users=[],this.roles=[],this.userDeleted=new c.vpe,this.rolesSet=new c.vpe,this.usersWithoutRole=[],this.selectedUser=null,this.selectedRoles=[],this.selectedUserSections=[],this.maxRoleLevel$=this.authService.getMaxRoleLevelOfCurrentUser()}ngOnChanges(e){var t,r,s;e.hasOwnProperty("users")&&this.users&&(this.usersWithoutRole=(r=e=>e.createdAt,s="desc",null==(t=this.users)?[]:((0,b.Z)(r)||(r=null==r?[]:[r]),(0,b.Z)(s=s)||(s=null==s?[]:[s]),(0,v.Z)(t,r,s))))}getInitials(e){return`${e.displayName.split(" ").map(e=>e.length&&e[0].toUpperCase()||"").join("")}`}onSelected(e,t){this.selectedUser=e.option,this.selectedRoles=this.selectedUser.roleNames,this.selectedUserSections=this.mapSectionTree(this.sectionTree,e.option.stakeholderGroupIds),t.toggle(e.originalEvent)}saveRoles(e){const t={userName:this.selectedUser.userName,roleNames:this.selectedRoles};this.authService.setUserRoles(t).subscribe(()=>{this.rolesSet.emit(t),e.hide(),this.notificationsService.success("userlist.USER_ROLES_SET")})}showDeleteConfirmation(e){var t;this.confirmationService.confirm({target:null!==(t=e.target)&&void 0!==t?t:void 0,message:this.translateService.instant("userlist.PROCEED"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translateService.instant("YES"),rejectLabel:this.translateService.instant("NO"),accept:()=>{this.deleteSelectedUser()}})}hasUserRight(e,t){return e>(null!=t?t:0)}getSections(e){return this.mapSectionTree(this.sectionTree,e)}reset(){this.selectedUser=null,this.selectedRoles=[],this.selectedUserSections=[]}deleteSelectedUser(){this.userService.deleteUser(this.selectedUser.userName).subscribe(()=>{this.userDeleted.emit(this.selectedUser.userName),this.notificationsService.success("userlist.USER_DELETED")})}mapSectionTree(e,t){return e.children.map(e=>this.mapSectionNode(e,t))}mapSectionNode(e,t){var r;return{data:e.data,children:e.children.map(e=>this.mapSectionNode(e,t)),label:null===(r=e.data)||void 0===r?void 0:r.name,leaf:e.isLeaf,key:e.data.id,icon:t.includes(e.data.id)?"pi pi-check":void 0,draggable:!1,droppable:!1,selectable:!1}}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(A.YP),c.Y36(o.sK),c.Y36(q),c.Y36(C.T),c.Y36(S.e))},e.\u0275cmp=c.Xpm({type:e,selectors:[["arpa-user-list"]],inputs:{users:"users",roles:"roles",sectionTree:"sectionTree"},outputs:{userDeleted:"userDeleted",rolesSet:"rolesSet"},features:[c.TTD],decls:7,vars:3,consts:[["optionLabel","displayName","optionValue","userName",3,"options","filter","onClick"],["pTemplate","header"],["pTemplate","item"],[3,"showCloseIcon"],["op",""],["pTemplate",""],[1,"user-item"],["styleClass","p-mr-3","size","large","shape","circle",3,"label"],[1,"user-info"],[1,"p-mb-2"],["class","pi pi-check-circle p-ml-2","style","color: yellowgreen",4,"ngIf"],[1,"pi","pi-check-circle","p-ml-2",2,"color","yellowgreen"],[1,"user-detail-card"],[1,"p-grid"],[1,"p-col-12","p-sm-6"],["target","_blank",3,"href"],[1,"pi","pi-envelope","p-mr-2"],["class","p-field-checkbox",4,"ngFor","ngForOf"],["pButton","","type","button",1,"p-button-outlined",3,"label","click"],[1,"group-tree",3,"virtualScroll","value"],[1,"header"],["styleClass","p-mr-2","size","xlarge",3,"label"],["pButton","","type","button","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","p-button-outlined","p-button-sm","p-ml-2",3,"pTooltip","click"],[1,"p-field-checkbox"],["name","roleGroup","value","role.roleName",3,"value","ngModel","inputId","disabled","ngModelChange"],[3,"for"]],template:function(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"p-listbox",0),c.NdJ("onClick",function(r){c.CHM(e);const s=c.MAs(4);return t.onSelected(r,s)}),c.YNc(1,N,0,0,"ng-template",1),c.YNc(2,J,12,8,"ng-template",2),c.qZA(),c.TgZ(3,"p-overlayPanel",3,4),c.YNc(5,z,23,21,"ng-template",5),c.qZA(),c._UZ(6,"p-confirmPopup")}2&e&&(c.Q6J("options",t.usersWithoutRole)("filter",!0),c.xp6(3),c.Q6J("showCloseIcon",!0))},directives:[y.Ri,A.jx,k.T,x.P,w.q,s.O5,O.Z,s.sg,E.Hq,M.mp,R.u,L.XZ,i.JJ,i.On],pipes:[s.uU,o.X$,s.Ov],styles:[".user-item[_ngcontent-%COMP%]{display:flex;align-items:center}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-detail-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center}.user-detail-card[_ngcontent-%COMP%]     .p-card .p-card-body{padding-bottom:0}.user-detail-card[_ngcontent-%COMP%]     .p-card .p-card-content{padding:0}.user-detail-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{margin-top:0}.user-detail-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);display:flex;align-items:center}.user-detail-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .user-detail-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .user-detail-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--text-color)}.user-detail-card[_ngcontent-%COMP%]     .p-tree .p-tree-container .p-treenode{padding:0}.user-detail-card[_ngcontent-%COMP%]     .p-tree .p-tree-container .p-treenode .p-treenode-content{padding:0 .5rem}.user-detail-card[_ngcontent-%COMP%]     .p-tree .p-tree-container .p-treenode .p-treenode-content .p-treenode-icon{color:#9acd32}"]}),e})(),F=(()=>{class e{constructor(){this.data={labels:["Performer","Staff","Admins","No Role"],datasets:[{data:[263,16,5,42],backgroundColor:["#F4D03F","#C0392B","#36A2EB","#8E44AD"],hoverBackgroundColor:["#F9E79F","#CD6155","#36A2E0","#BB8FCE"]}]},this.options={title:{display:!0,text:"This is only fake data for demo",fontSize:14},legend:{position:"bottom"}}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["arpa-userchart"]],decls:1,vars:2,consts:[["type","doughnut","width","30vw","height","30vh",3,"data","options"]],template:function(e,t){1&e&&c._UZ(0,"p-chart",0),2&e&&c.Q6J("data",t.data)("options",t.options)},directives:[g.C],styles:[""]}),e})(),Y=(()=>{class e{constructor(e,t,r){this.roleService=t,this.users=[],this.usersWithRole=[],e.data.pipe((0,l.U)(e=>e.users)).subscribe(e=>this.users=this.filterUsersWithoutRole(e)),e.data.pipe((0,l.U)(e=>e.users)).subscribe(e=>this.usersWithRole=this.filterUsersWithRole(e)),this.roles$=this.roleService.roles$,this.sectionTree$=e.data.pipe((0,l.U)(e=>r.getTree(e.treeMaxLevel)))}filterUsersWithoutRole(e){var t;return null!==(t=e.filter(e=>0===e.roleNames.length))&&void 0!==t?t:null}filterUsersWithRole(e){var t;return null!==(t=e.filter(e=>0!==e.roleNames.length))&&void 0!==t?t:null}onUserChanged(e){this.users=this.users.filter(t=>t.userName!==e)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(a.gz),c.Y36(_.N),c.Y36(f.l))},e.\u0275cmp=c.Xpm({type:e,selectors:[["arpa-administrator"]],decls:19,vars:23,consts:[[1,"p-grid"],[1,"p-col-12","p-md-6","p-lg-4"],[3,"users","roles","sectionTree","userDeleted","rolesSet"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h3"),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.TgZ(5,"arpa-user-list",2),c.NdJ("userDeleted",function(e){return t.onUserChanged(e)})("rolesSet",function(e){return t.onUserChanged(e.userName)}),c.ALo(6,"async"),c.ALo(7,"async"),c.qZA(),c.qZA(),c.TgZ(8,"div",1),c.TgZ(9,"h3"),c._uU(10),c.ALo(11,"translate"),c.qZA(),c.TgZ(12,"arpa-user-list",2),c.NdJ("userDeleted",function(e){return t.onUserChanged(e)})("rolesSet",function(e){return t.onUserChanged(e.userName)}),c.ALo(13,"async"),c.ALo(14,"async"),c.qZA(),c.qZA(),c.TgZ(15,"div",1),c.TgZ(16,"h3"),c._uU(17),c.qZA(),c._UZ(18,"arpa-userchart"),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.AsE("",c.lcZ(4,11,"userlist.PENDING_REGISTRATIONS"),": ",t.users.length,""),c.xp6(2),c.Q6J("users",t.users)("roles",c.lcZ(6,13,t.roles$))("sectionTree",c.lcZ(7,15,t.sectionTree$)),c.xp6(5),c.AsE("",c.lcZ(11,17,"userlist.REGISTERED_USERS"),": ",t.usersWithRole.length,""),c.xp6(2),c.Q6J("users",t.usersWithRole)("roles",c.lcZ(13,19,t.roles$))("sectionTree",c.lcZ(14,21,t.sectionTree$)),c.xp6(5),c.hij("User gesamt: ",t.users.length+t.usersWithRole.length,""))},directives:[B,F],pipes:[o.X$,s.Ov],styles:[".admin-claim[_ngcontent-%COMP%]{position:fixed;top:80px;left:15px;font-size:20rem;color:var(--surface-a);z-index:-1}@media (max-width:960px){.admin-claim[_ngcontent-%COMP%]{top:120px;font-size:10rem}}@media (max-width:576px){.admin-claim[_ngcontent-%COMP%]{font-size:7rem}}"]}),e})();var $=r(878);let j=(()=>{class e{constructor(e){this.sectionService=e}resolve(e){const t=e.data.treeMaxLevel;return this.sectionService.treeLoaded(t)?(0,$.of)(!0):this.sectionService.loadTree(t).pipe((0,l.U)(()=>this.sectionService.treeLoaded(t)))}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(f.l))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),W=(()=>{class e{constructor(e){this.projects=[],e.data.pipe((0,l.U)(e=>e.projects)).subscribe(e=>this.projects=e)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(a.gz))},e.\u0275cmp=c.Xpm({type:e,selectors:[["arpa-staff"]],decls:98,vars:18,consts:[[1,"p-grid"],[1,"p-col-12","p-md-6","p-lg-4"],["routerLink","/arpa/appointments"],["styleClass","rectangle","width","50%","height","1rem"],["styleClass","rectangle","width","80%","height","1rem"],["styleClass","rectangle","width","20%","height","1rem"],["styleClass","square","width","33%","height","6rem"],["routerLink","/arpa/projects"],[3,"icon"],["header","N\xe4chstes Vorsingen?"],["styleClass","rectangle","width","50%","heigt","1rem"],["styleClass","rectangle","width","80%","heigt","1rem"],["header","Braucht es noch Geigen?"],["styleClass","rectangle","width","20%","heigt","1rem"],["header"," Stativ in Probe liegen lassen"],["header","Brauche noch 2 weitere Karten"],["styleClass","rectangle","width","70%","height","1rem"],["styleClass","rectangle","width","40%","height","1rem"],["styleClass","rectangle","width","60%","height","1rem"],["src","assets/common/images/dummy.gif","alt","Placeholder","width","20%","height","30"],["src","assets/common/images/dummy.gif","alt","Placeholder","width","100%","height","30"],["src","assets/common/images/dummy.gif","alt","Placeholder","width","60%","height","30"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"a",2),c.TgZ(3,"h2"),c._uU(4),c.ALo(5,"translate"),c.qZA(),c.qZA(),c.TgZ(6,"p"),c._uU(7,"3. Juni 2021 20-22 Uhr - RoSy-Chorprobe"),c.qZA(),c.TgZ(8,"p"),c._uU(9,'22. Juni 2021 Anmeldeschluss "Festival em Trancoso" (Brasilien-Tour)'),c.qZA(),c.TgZ(10,"p"),c._uU(11,"22. Dezember 2021 - Konzerttag @Bphil |\xa0Die Schneek\xf6nigin"),c.qZA(),c._UZ(12,"p-skeleton",3),c._UZ(13,"br"),c._UZ(14,"p-skeleton",4),c._UZ(15,"br"),c._UZ(16,"p-skeleton",5),c._UZ(17,"br"),c.TgZ(18,"p-skeleton",6),c._uU(19,"Termin"),c.qZA(),c.TgZ(20,"a",7),c.TgZ(21,"h3"),c._uU(22),c.ALo(23,"translate"),c.qZA(),c.qZA(),c._UZ(24,"arpa-projectgenrechart"),c.qZA(),c.TgZ(25,"div",1),c.TgZ(26,"arpa-dummy",8),c.TgZ(27,"h3"),c._uU(28),c.ALo(29,"translate"),c.qZA(),c.TgZ(30,"p-accordion"),c.TgZ(31,"p-accordionTab",9),c.TgZ(32,"p"),c._uU(33,"Ich w\xfcrde gerne mal bei euch im Chor reinschnuppern und fragen, ob und wann es wieder Vorsingen gibt. "),c.qZA(),c._UZ(34,"p-skeleton",10),c._UZ(35,"br"),c._UZ(36,"p-skeleton",11),c.qZA(),c.TgZ(37,"p-accordionTab",12),c._uU(38," Ich h\xe4tte zur n\xe4chsten Probenphase noch Kolleg:innen an der Hand."),c._UZ(39,"br"),c._uU(40,"Soll ich die einfach mitbringen oder m\xfcssen die sich vorher anmelden? "),c._UZ(41,"p-skeleton",10),c._UZ(42,"br"),c._UZ(43,"p-skeleton",11),c._UZ(44,"br"),c._UZ(45,"p-skeleton",13),c.qZA(),c.TgZ(46,"p-accordionTab",14),c._uU(47," Doof.. kann ich das abholen? Habt ihr das mitgenommen? Sorry f\xfcr die Umst\xe4nde. "),c._UZ(48,"p-skeleton",3),c._UZ(49,"br"),c._UZ(50,"p-skeleton",4),c._UZ(51,"br"),c._UZ(52,"p-skeleton",5),c.qZA(),c.TgZ(53,"p-accordionTab",15),c._uU(54," M\xf6glichst f\xfcr Abendkasse hinterlegen auf Erika Mustermann. "),c._UZ(55,"br"),c._UZ(56,"p-skeleton",5),c.qZA(),c.qZA(),c._UZ(57,"br"),c._UZ(58,"p-skeleton",16),c._UZ(59,"br"),c._UZ(60,"p-skeleton",17),c._UZ(61,"br"),c._UZ(62,"p-skeleton",18),c.qZA(),c._UZ(63,"hr"),c.TgZ(64,"arpa-dummy",8),c.TgZ(65,"h3"),c._uU(66),c.ALo(67,"translate"),c.qZA(),c._UZ(68,"img",19),c._UZ(69,"br"),c._UZ(70,"br"),c._UZ(71,"img",20),c._UZ(72,"br"),c._UZ(73,"br"),c._UZ(74,"br"),c._UZ(75,"img",19),c._UZ(76,"br"),c._UZ(77,"br"),c._UZ(78,"img",20),c.qZA(),c.qZA(),c.TgZ(79,"div",1),c.TgZ(80,"arpa-dummy",8),c.TgZ(81,"h3"),c._uU(82),c.ALo(83,"translate"),c.qZA(),c._UZ(84,"img",21),c._UZ(85,"br"),c._UZ(86,"br"),c._UZ(87,"img",21),c._UZ(88,"br"),c._UZ(89,"br"),c._UZ(90,"img",21),c._UZ(91,"br"),c._UZ(92,"br"),c._UZ(93,"img",21),c._UZ(94,"br"),c._UZ(95,"br"),c._UZ(96,"img",21),c._UZ(97,"br"),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(4),c.Oqu(c.lcZ(5,8,"APPOINTMENTS")),c.xp6(18),c.Oqu(c.lcZ(23,10,"PROJECTS")),c.xp6(4),c.Q6J("icon","messages"),c.xp6(2),c.Oqu(c.lcZ(29,12,"MESSAGES")),c.xp6(36),c.Q6J("icon","tasks"),c.xp6(2),c.Oqu(c.lcZ(67,14,"TASKS")),c.xp6(14),c.Q6J("icon","activities"),c.xp6(2),c.Oqu(c.lcZ(83,16,"RECENT_ACTIVITY")))},directives:[a.yS,h.O,Z,u,d.UQ,d.US],pipes:[o.X$],styles:[""]}),e})();var X=r(3682);const G=function(){return{"max-width":"1000px",margin:"auto"}};let K=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["arpa-no-role"]],decls:9,vars:9,consts:[[1,"p-listbox","p-component"],[1,"p-grid","p-text-center","p-p-3","p-p-lg-5"],[1,"p-col-12"],["severity","info",1,"p-text-left",3,"text"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"h2"),c._uU(4),c.ALo(5,"translate"),c.qZA(),c.qZA(),c.TgZ(6,"div",2),c._UZ(7,"p-message",3),c.ALo(8,"translate"),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.Akn(c.DdM(8,G)),c.xp6(4),c.Oqu(c.lcZ(5,4,"norole.WELCOME")),c.xp6(3),c.Q6J("text",c.lcZ(8,6,"norole.BE_PATIENT")))},directives:[X.q],pipes:[o.X$],styles:[""]}),e})();var H=r(2768);function V(e,t){if(1&e&&c._UZ(0,"p-tabMenu",2),2&e){const e=c.oxw().ngIf,t=c.oxw();c.Q6J("model",e)("activeItem",t.getActiveItem(e))}}function ee(e,t){if(1&e&&(c.ynx(0),c.YNc(1,V,1,2,"p-tabMenu",1),c.BQk()),2&e){const e=t.ngIf;c.xp6(1),c.Q6J("ngIf",e.length>1)}}let te=(()=>{class e{constructor(e,t,r){this.route=r,t.routeReuseStrategy.shouldReuseRoute=()=>!1,this.menuItems$=e.currentUser.pipe((0,l.U)(e=>e.roles),(0,l.U)(e=>e.map(e=>({routerLink:[`/arpa/dashboard/${e}`],label:e.toUpperCase()}))))}getActiveItem(e){const t=this.route.children[0];if(!t)return e[0];const r=e.find(e=>{var r;return(null===(r=e.label)||void 0===r?void 0:r.toLowerCase())===t.snapshot.url[0].path});return null!=r?r:e[0]}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(S.e),c.Y36(a.F0),c.Y36(a.gz))},e.\u0275cmp=c.Xpm({type:e,selectors:[["arpa-dashboard"]],decls:3,vars:3,consts:[[4,"ngIf"],[3,"model","activeItem",4,"ngIf"],[3,"model","activeItem"]],template:function(e,t){1&e&&(c.YNc(0,ee,2,1,"ng-container",0),c.ALo(1,"async"),c._UZ(2,"router-outlet")),2&e&&c.Q6J("ngIf",c.lcZ(1,1,t.menuItems$))},directives:[s.O5,a.lC,H.d],pipes:[s.Ov],styles:[""]}),e})(),re=(()=>{class e{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return this.authService.currentUser.pipe((0,l.U)(t=>{if(null===t||e.children.length>0)return!0;switch(t.roles.length){case 0:return this.router.parseUrl("/arpa/dashboard/noRole");default:return this.router.parseUrl(`/arpa/dashboard/${t.roles[0]}`)}}))}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(S.e),c.LFG(a.F0))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var se=r(369);const ne=[{path:"",component:te,canActivate:[re],runGuardsAndResolvers:"always",children:[{path:"performer",component:m,data:{roles:[U.Q.performer]},resolve:{projects:se.o}},{path:"admin",component:Y,data:{roles:[U.Q.admin],treeMaxLevel:2},resolve:{users:q,sectionTreeLoaded:j,rolesLoaded:_.N}},{path:"staff",component:W,data:{roles:[U.Q.staff]},resolve:{projects:se.o}},{path:"noRole",component:K}]}];let oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[a.Bz.forChild(ne)],a.Bz]}),e})();var ie=r(2683);let ae=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.ez,n.m,o.aw,i.u5,i.UX,oe,ie.ProjectsModule]]}),e})()}}]);